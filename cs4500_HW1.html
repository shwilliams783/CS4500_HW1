<!DOCTYPE html>
<!-- Stetson H Williams, 24 August 2017
     This program, HW1, will track the movement of a marker on a 10x10 grid.
     Inputs: 
     	None
     Outputs: 
     	The number of moves taken
        The final position of the marker
     	The result of the game (you win! / out of moves!)
        The maximum and minimum number of touches for any single cell
        The average number of touches across all cells 
-->
<html>
<body>

<h1>Grid Game Simulation</h1>

<p id="moveCount">moveCount</p>
<p id="markerPosition">markerPosition</p>
<p id="gameResult">gameResult</p>
<p id="maxTouches">maxTouches</p>
<p id="minTouches">minTouches</p>
<p id="averageTouches">averageTouches</p>

<script>
// Variables

// Current coordinates of the marker; one of these values will
// change by an integer from [-2,2] each cycle (most commonly 0).
var posX = 0;
var posY = 0;

// Total number of moves taken; will increment by +1 each cycle.
var count = 1;

// Starting grid touch counts; one cell will increment by +1 each cycle.

// NOTE: The simulation describes the starting marker as the bottom left corner
// of the grid, however for simplicity, I will define that cell as grid[0][0],
// currently the top left of the 2-D array below. This definition will cause
// position movements to the right or up to be the positive direction, and 
// position movements to the left or right to be the negative direction.
// If proper visualization is needed later, the array setup and directonal
// movement may need to be altered.
var grid =	[
				[1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
			];
            
// The current maximum number of times any given cell in the grid has been touched.
var max = 1;

// The current minimum number of times any given cell in the grid has been touched.
var min = 0;

// The average number of times any given cell in the grid has been touched;
// to be calculated after a non-zero number of cycles have been completed.
var average;

// A variable for movement directions.
var direction;

// Avariable for movement distances.
var distance;

// Program execution loop; This loop should loop a maximum of 1,000,000 times
// before terminating. Either the marker will reach (9,9), or the count will reach
// 1000001.
do
{
	// STEP 1: Randomly assign 0, 1, 2, or 3 to direction; these will correspond to
	// up, down, right, or left movement.
	direction = Math.floor((Math.random()*4));
	
	// STEP 2: Randomly assign 0, 1, or 2 steps to distance.
	distance = Math.floor((Math.random()*3));
	
	// STEP 3: Attempt to move the marker that direction and distance within the grid
	// If the new position would be invalid, do not move the marker
	switch (direction)
	{
		case 0: // up
			if(posY + distance <= 9)
			{
				posY += distance;
			}
			break;
		case 1: // down
			if(posY - distance >= 0)
			{
				posY -= distance;
			}
			break;
		case 2: // right
			if(posX + distance <= 9)
			{
				posX += distance;
			}
			break;
		case 3: // left
			if(posX - distance >= 0)
			{
				posX -= distance;
			}
			break;
		default:
			break;
	}
	count++;
}while(count <= 1000000 && (posX != 9 || posY != 9));

document.getElementById("moveCount").innerHTML = "Number of moves taken: " + count;
document.getElementById("markerPosition").innerHTML = "Final marker position: (" + posX + ',' + posY + ')';

</script>

</body>
</html>
